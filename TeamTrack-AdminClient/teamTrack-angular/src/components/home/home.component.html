<mat-toolbar color="primary" class="toolbar" fxLayout="row" fxLayoutAlign="space-between center">
  <div class="logo">
    <mat-icon>admin_panel_settings</mat-icon>
    <span class="title">TeamTrack Admin</span>
  </div>
  
  <!-- סרגל ניווט קישורים, רק כשהמנהל מחובר -->
  <nav class="nav-links" *ngIf="currentUser">
    <button mat-button routerLink="/">
      <mat-icon>dashboard</mat-icon>
      פאנל ניהול
    </button>
    <button mat-button routerLink="/users">
      <mat-icon>people</mat-icon>
      ניהול משתמשים
    </button>
    <button mat-button routerLink="/reports">
      <mat-icon>analytics</mat-icon>
      דוחות ניהוליים
    </button>
  </nav>
  
  <div class="actions" *ngIf="currentUser; else guestActions">
    <span class="user-greeting">
      <mat-icon class="admin-icon">admin_panel_settings</mat-icon>
      מנהל: <span class="user-name">{{ currentUser.userName }}</span>
    </span>
    <button mat-raised-button class="custom-red-button" (click)="logout()">
      <mat-icon>logout</mat-icon> התנתק
    </button>
  </div>
  
  <ng-template #guestActions>
    <div class="auth-buttons">
      <button mat-raised-button class="custom-red-button" (click)="goToLogin()">
        <mat-icon>admin_panel_settings</mat-icon> כניסת מנהלים
      </button>
      <button mat-raised-button class="custom-red-button" (click)="goToSignup()">
        <mat-icon>person_add</mat-icon> רישום מנהל
      </button>
    </div>
  </ng-template>
</mat-toolbar>

<div class="container" *ngIf="isLoaded">
  <div class="admin-header">
    <mat-icon class="admin-main-icon">admin_panel_settings</mat-icon>
    <h1 class="admin-title">פאנל ניהול מתקדם</h1>
    <p class="admin-subtitle">מערכת ניהול מיועדת למנהלי מערכת </p>
  </div>

  <div class="metrics">
    <mat-card *ngFor="let metric of metrics" class="metric-card admin-metric">
      <mat-icon>{{ metric.icon }}</mat-icon>
      <h2>{{ metric.value }}</h2>
      <p>{{ metric.label }}</p>
    </mat-card>
  </div>
  
  <mat-divider></mat-divider>
  
  <h2 class="section-title">
    <mat-icon>settings</mat-icon>
    כלי ניהול מתקדמים
  </h2>
  
  <div class="features">
    <mat-card
      *ngFor="let feature of features; let i = index"
      class="feature-card admin-feature"
      [class.active]="activeFeature === i"
      (mouseenter)="onFeatureHover(i)"
      (mouseleave)="onFeatureLeave()"
    >
      <mat-icon class="feature-icon">{{ feature.icon }}</mat-icon>
      <h3>{{ feature.title }}</h3>
      <p>{{ feature.description }}</p>
      <ul>
        <li *ngFor="let bullet of feature.bullets">
          <mat-icon class="bullet-icon">check_circle</mat-icon>
          {{ bullet }}
        </li>
      </ul>
     
    </mat-card>
  </div>

  